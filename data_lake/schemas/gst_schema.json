{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GST Return Schema",
  "type": "object",
  "required": ["return_id", "gstin", "return_period", "return_type"],
  "properties": {
    "return_id": {
      "type": "string",
      "description": "Unique return identifier"
    },
    "gstin": {
      "type": "string",
      "pattern": "^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$",
      "description": "GSTIN number"
    },
    "trade_name": {
      "type": ["string", "null"],
      "description": "Business trade name"
    },
    "legal_name": {
      "type": ["string", "null"],
      "description": "Legal business name"
    },
    "return_period": {
      "type": "string",
      "pattern": "^[0-9]{2}-[0-9]{4}$",
      "description": "Return period MM-YYYY"
    },
    "return_type": {
      "type": "string",
      "enum": ["GSTR1", "GSTR3B", "GSTR2A", "GSTR9"],
      "description": "Return type"
    },
    "filing_date": {
      "type": ["string", "null"],
      "description": "Date of filing"
    },
    "status": {
      "type": "string",
      "enum": ["FILED", "NOT_FILED", "LATE_FILED", "REVISED"],
      "description": "Filing status"
    },
    "total_taxable_value": {
      "type": ["number", "string", "null"],
      "description": "Total taxable value"
    },
    "total_igst": {
      "type": ["number", "string", "null"],
      "description": "Total IGST"
    },
    "total_cgst": {
      "type": ["number", "string", "null"],
      "description": "Total CGST"
    },
    "total_sgst": {
      "type": ["number", "string", "null"],
      "description": "Total SGST"
    },
    "total_cess": {
      "type": ["number", "string", "null"],
      "description": "Total CESS"
    },
    "invoices": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "invoice_number": {
            "type": "string"
          },
          "invoice_date": {
            "type": "string"
          },
          "invoice_value": {
            "type": ["number", "string"]
          },
          "taxable_value": {
            "type": ["number", "string"]
          },
          "igst": {
            "type": ["number", "string"]
          },
          "cgst": {
            "type": ["number", "string"]
          },
          "sgst": {
            "type": ["number", "string"]
          },
          "buyer_gstin": {
            "type": ["string", "null"]
          },
          "buyer_name": {
            "type": ["string", "null"]
          },
          "place_of_supply": {
            "type": ["string", "null"]
          },
          "reverse_charge": {
            "type": ["string", "null"]
          },
          "hsn_code": {
            "type": ["string", "null"]
          },
          "gst_rate": {
            "type": ["number", "string", "null"]
          }
        }
      }
    },
    "itc_claimed": {
      "type": ["number", "string", "null"],
      "description": "Input Tax Credit claimed"
    },
    "itc_reversed": {
      "type": ["number", "string", "null"],
      "description": "Input Tax Credit reversed"
    },
    "net_tax_liability": {
      "type": ["number", "string", "null"],
      "description": "Net tax liability"
    }
  }
}
