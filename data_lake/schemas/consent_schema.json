{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Consent Artefact Schema",
  "type": "object",
  "required": ["consent_id", "user_id", "fiu_id", "aa_id", "consent_start", "consent_expiry", "status"],
  "properties": {
    "consent_id": {
      "type": "string",
      "pattern": "^[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}$",
      "description": "Unique consent identifier"
    },
    "user_id": {
      "type": "string",
      "description": "User identifier"
    },
    "fiu_id": {
      "type": "string",
      "description": "Financial Information User ID"
    },
    "aa_id": {
      "type": "string",
      "enum": ["FINVU", "ONEMONEY", "NADL", "CAMS", "ANUMATI"],
      "description": "Account Aggregator ID"
    },
    "consent_start": {
      "type": "string",
      "format": "date-time",
      "description": "Consent start timestamp"
    },
    "consent_expiry": {
      "type": "string",
      "format": "date-time",
      "description": "Consent expiry timestamp"
    },
    "data_from": {
      "type": "string",
      "format": "date",
      "description": "Data fetch start date"
    },
    "data_to": {
      "type": "string",
      "format": "date",
      "description": "Data fetch end date"
    },
    "consent_types": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["DEPOSIT", "TERM_DEPOSIT", "RECURRING_DEPOSIT", "SIP", "CP", "GOVT_SECURITIES", "EQUITIES", "BONDS", "DEBENTURES", "MUTUAL_FUNDS", "ETF", "IDR", "CIS", "AIF", "INSURANCE_POLICIES", "NPS", "INVIT", "REIT", "OTHER"]
      }
    },
    "fip_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of Financial Information Provider IDs"
    },
    "status": {
      "type": "string",
      "enum": ["ACTIVE", "PAUSED", "REVOKED", "EXPIRED", "PENDING"],
      "description": "Consent status"
    },
    "consent_mode": {
      "type": "string",
      "enum": ["VIEW", "STORE", "QUERY", "STREAM"],
      "description": "Consent mode"
    },
    "frequency_unit": {
      "type": "string",
      "enum": ["HOURLY", "DAILY", "MONTHLY", "YEARLY"],
      "description": "Data fetch frequency"
    },
    "fetch_type": {
      "type": "string",
      "enum": ["ONETIME", "PERIODIC"],
      "description": "Fetch type"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time"
    }
  }
}
