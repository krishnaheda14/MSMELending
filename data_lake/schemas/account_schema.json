{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Bank Account Schema",
  "type": "object",
  "required": ["account_id", "user_id", "bank", "account_type", "currency"],
  "properties": {
    "account_id": {
      "type": "string",
      "description": "Unique account identifier"
    },
    "user_id": {
      "type": "string",
      "description": "User identifier"
    },
    "masked_account_number": {
      "type": "string",
      "pattern": "^XXXXXX[0-9]{4}$",
      "description": "Masked account number"
    },
    "account_number": {
      "type": "string",
      "description": "Full account number (for raw data only)"
    },
    "bank": {
      "type": "string",
      "enum": ["HDFC", "ICICI", "SBI", "AXIS", "KOTAK", "IDFC_FIRST", "YES_BANK"],
      "description": "Bank name"
    },
    "ifsc": {
      "type": "string",
      "pattern": "^[A-Z]{4}0[A-Z0-9]{6}$",
      "description": "IFSC code"
    },
    "branch": {
      "type": ["string", "null"],
      "description": "Branch name"
    },
    "account_type": {
      "type": "string",
      "enum": ["SAVINGS", "CURRENT", "OVERDRAFT", "CASH_CREDIT"],
      "description": "Account type"
    },
    "currency": {
      "type": "string",
      "enum": ["INR"],
      "description": "Currency"
    },
    "opened_date": {
      "type": "string",
      "description": "Account opening date"
    },
    "status": {
      "type": "string",
      "enum": ["ACTIVE", "INACTIVE", "CLOSED"],
      "description": "Account status"
    },
    "balance": {
      "type": ["number", "string", "null"],
      "description": "Current balance"
    },
    "holder_name": {
      "type": ["string", "null"],
      "description": "Account holder name"
    },
    "fip_id": {
      "type": "string",
      "description": "Financial Information Provider ID"
    }
  }
}
